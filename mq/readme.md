在 微服务架构设计模式 一书中讲到 选择消息代理时你应该考虑以下因素
1。支持的编程语言 
2。支持的消息标准
3。消息排序，能否保留消息的顺序
4。投递保证，消息代理提供什么样的消息投递保证
5。持久性，消息是否能够持久化磁盘，并在崩溃时回复
6。耐久性，如果接收方重新连接到消息代理，它是否会收到再断开时发送的消息
7。可扩展性，消息代理的可扩展性如何
8。延迟
9。竞争性（并发）接收方


消息代理之所以复杂，是因为它涉及到 三端

在两端通信中，涉及到什么呢？就是 